/*
  backgrid-moment-cell
  http://github.com/wyuenho/backgrid

  Copyright (c) 2013 Jimmy Yuen Ho Wong and contributors
  Licensed under the MIT @license.
*/
(function(t,e,a,i){var o=a.Extension.MomentFormatter=function(e){t.extend(this,this.defaults,e)};o.prototype=new a.CellFormatter,t.extend(o.prototype,{defaults:{modelInUTC:!0,modelLang:i.lang(),modelFormat:i.defaultFormat,displayInUTC:!0,displayLang:i.lang(),displayFormat:i.defaultFormat},fromRaw:function(t){if(null==t)return"";var e=this.modelInUTC?i.utc(t,this.modelFormat,this.modelLang):i(t,this.modelFormat,this.modelLang);return this.displayLang&&e.lang(this.displayLang),this.displayInUTC?e.utc():e.local(),e.format(this.displayFormat)},toRaw:function(t){var e=this.displayInUTC?i.utc(t,this.displayFormat,this.displayLang):i(t,this.displayFormat,this.displayLang);if(e&&e.isValid())return this.modelLang&&e.lang(this.modelLang),this.modelInUTC?e.utc():e.local(),e.format(this.modelFormat)}});var l=a.Extension.MomentCell=a.Cell.extend({editor:a.InputCellEditor,className:"moment-cell",formatter:o,initialize:function(e){a.Cell.prototype.initialize.apply(this,arguments);var i=o.prototype.defaults,l=t.keys(i),n=t.pick(this,l),r=t.pick(e,l);this.formatter=new this.formatter(t.extend({},i,n,r)),this.editor=this.editor.extend({attributes:t.extend({},this.editor.prototype.attributes||this.editor.attributes||{},{placeholder:this.formatter.displayFormat})})}});t.extend(l.prototype,o.prototype.defaults)})(_,Backbone,Backgrid,moment);