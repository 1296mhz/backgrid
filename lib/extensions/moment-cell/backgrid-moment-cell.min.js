/*
  backgrid-moment-cell
  http://github.com/wyuenho/backgrid

  Copyright (c) 2013 Jimmy Yuen Ho Wong and contributors
  Licensed under the MIT @license.
*/
(function(t,i,e,a){var n=e.Extension.MomentFormatter=function(i){t.extend(this,this.defaults,i)};n.prototype=new e.CellFormatter,t.extend(n.prototype,{defaults:{modelInUnixOffset:!1,modelInUnixTimestamp:!1,modelInUTC:!0,modelLang:a.lang(),modelFormat:a.defaultFormat,displayInUnixOffset:!1,displayInUnixTimestamp:!1,displayInUTC:!0,displayLang:a.lang(),displayFormat:a.defaultFormat},fromRaw:function(t){if(null==t)return"";var i=this.modelInUnixOffset?a(t):this.modelInUnixTimestamp?a.unix(t):this.modelInUTC?a.utc(t,this.modelFormat,this.modelLang):a(t,this.modelFormat,this.modelLang);return this.displayInUnixOffset?+i:this.displayInUnixTimestamp?i.unix():(this.displayLang&&i.lang(this.displayLang),this.displayInUTC?i.utc():i.local(),i.format(this.displayFormat))},toRaw:function(t){var i=this.displayInUnixOffset?a(+t):this.displayInUnixTimestamp?a.unix(+t):this.displayInUTC?a.utc(t,this.displayFormat,this.displayLang):a(t,this.displayFormat,this.displayLang);if(i&&i.isValid())return this.modelInUnixOffset?+i:this.modelInUnixTimestamp?i.unix():(this.modelLang&&i.lang(this.modelLang),this.modelInUTC?i.utc():i.local(),i.format(this.modelFormat))}});var s=e.Extension.MomentCell=e.Cell.extend({editor:e.InputCellEditor,className:"moment-cell",formatter:n,initialize:function(i){e.Cell.prototype.initialize.apply(this,arguments);var a=n.prototype.defaults,s=t.keys(a),o=t.pick(this,s),l=t.pick(i,s);this.formatter=new this.formatter(t.extend({},a,o,l)),this.editor=this.editor.extend({attributes:t.extend({},this.editor.prototype.attributes||this.editor.attributes||{},{placeholder:this.formatter.displayFormat})})}});t.extend(s.prototype,n.prototype.defaults)})(_,Backbone,Backgrid,moment);